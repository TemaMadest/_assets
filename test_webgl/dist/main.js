!function(){function t(t){try{f=t.getContext("webgl"),f.viewportWidth=t.width,f.viewportHeight=t.height}catch(e){throw"balalaika"}f||alert("Could not initialise WebGL, sorry :-(")}function e(t,e){var r=document.getElementById(e);if(!r)return null;for(var i="",a=r.firstChild;a;)3==a.nodeType&&(i+=a.textContent),a=a.nextSibling;var n;if("x-shader/x-fragment"==r.type)n=t.createShader(t.FRAGMENT_SHADER);else{if("x-shader/x-vertex"!=r.type)return null;n=t.createShader(t.VERTEX_SHADER)}return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(alert(t.getShaderInfoLog(n)),null)}function r(){var t=e(f,"shader-fs"),r=e(f,"shader-vs");m=f.createProgram(),f.attachShader(m,r),f.attachShader(m,t),f.linkProgram(m),f.getProgramParameter(m,f.LINK_STATUS)||alert("Could not initialise shaders"),f.useProgram(m),m.vertexPositionAttribute=f.getAttribLocation(m,"aVertexPosition"),f.enableVertexAttribArray(m.vertexPositionAttribute),m.pMatrixUniform=f.getUniformLocation(m,"uPMatrix"),m.mvMatrixUniform=f.getUniformLocation(m,"uMVMatrix")}function i(){f.uniformMatrix4fv(m.pMatrixUniform,!1,l),f.uniformMatrix4fv(m.mvMatrixUniform,!1,d)}function a(){u=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,u);var t=[0,2,0,-1,-1,0,2,-2.5,0];f.bufferData(f.ARRAY_BUFFER,new Float32Array(t),f.STATIC_DRAW),u.itemSize=3,u.numItems=3;var e=document.getElementById("plate");e.width,e.height}function n(){f.viewport(0,0,f.viewportWidth,f.viewportHeight),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),mat4.perspective(45,f.viewportWidth/f.viewportHeight,.1,100,l),mat4.identity(d),mat4.translate(d,[-1.5,0,-7]),f.bindBuffer(f.ARRAY_BUFFER,u),f.vertexAttribPointer(m.vertexPositionAttribute,u.itemSize,f.FLOAT,!1,0,0),i(),f.drawArrays(f.TRIANGLES,0,u.numItems)}function o(){var e=document.getElementById("plate");t(e),r(),a(),f.clearColor(0,0,0,.1),f.enable(f.DEPTH_TEST),n()}var f,m,u,d=mat4.create(),l=mat4.create();window.onload=function(){o()}}();
//# sourceMappingURL=main.js.map